{"version":3,"sources":["webpack:///./src/app/map/map.module.ts","webpack:///./src/app/map/map.page.html","webpack:///./src/app/map/map.page.scss","webpack:///./src/app/map/map.page.ts"],"names":[],"mappings":"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","file":"map-map-module.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nimport { IonicModule } from \"@ionic/angular\";\nimport { RouterModule } from \"@angular/router\";\nimport { MapPage } from \"./map.page\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: \"\",\n        component: MapPage\n      }\n    ])\n  ],\n  declarations: [MapPage]\n})\nexport class MapPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Map\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<div id=\\\"map\\\" style=\\\"width:100%; height:100%;\\\"></div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21hcC9tYXAucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { ToastController } from \"@ionic/angular\";\nimport { Map, latLng, tileLayer, Layer, marker } from \"leaflet\";\n\ndeclare var L: any;\n\n@Component({\n  selector: \"app-map\",\n  templateUrl: \"map.page.html\",\n  styleUrls: [\"map.page.scss\"]\n})\nexport class MapPage implements OnInit {\n  //Services\n  toast: any;\n  id;\n  constructor(\n    public toastController: ToastController,\n    private route: ActivatedRoute\n  ) {}\n\n  //Lifecycle hooks\n  ngOnInit() {\n    this.id = this.route.snapshot.paramMap.get(\"id\"); //bind marker param\n  }\n\n  ionViewDidEnter() {\n    this.loadMap();\n  }\n\n  //Functions\n  loadMap() {\n    //API get id marker info\n    let label = \"Raymond Truong\";\n    let desc = \"Intern General 2\";\n    let phone = \"123-456-7890\";\n    let mapPath = \"assets/floorplan.svg\";\n    let lat = 0;\n    let lng = 0;\n    let bounds = [[-26.5, -25], [1021.5, 1023]];\n\n    let map = L.map(\"map\", {\n      crs: L.CRS.Simple,\n      maxBounds: [[-1000, -1000], [2000, 2000]],\n      maxBoundsViscosity: 1.0\n    });\n\n    L.imageOverlay(mapPath, bounds).addTo(map);\n    map.fitBounds(bounds);\n\n    if (label && desc && phone && mapPath && lat && lng) {\n      //Begin plotting marker\n      this.plotPoint(map, lat, lng, label, desc, phone);\n\n      //Fly to marker and show info\n      map.flyTo([lat, lng], 1, {});\n      this.showMarkerInfo(label, desc, phone);\n\n      map.on(\"click\", e => {\n        let mp = new L.Marker([e.latlng.lat, e.latlng.lng]);\n        alert(mp.getLatLng());\n      });\n    }\n  }\n\n  async showMarkerInfo(label, desc, phone) {\n    const toast = await this.toastController.create({\n      message: `${label} | ${desc} | ${phone}`,\n      duration: 5000\n    });\n    await toast.present();\n  }\n\n  plotPoint(map, lat, lng, label, desc, phone) {\n    L.marker([lat, lng])\n      .addTo(map)\n      .on(\"click\", () => {\n        map.flyTo([lat, lng], 1, {});\n        this.showMarkerInfo(label, desc, phone);\n      });\n  }\n}\n"],"sourceRoot":""}